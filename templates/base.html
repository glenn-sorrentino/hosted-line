<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock %} - Hushline</title>
    <!-- Add common CSS files and other head elements here -->
</head>
<body>
    <header>
        <!-- Navigation bar, logo, etc. -->
        {% if 'user_id' in session and 'username' in session %}
            <p>Logged in as: {{ session['username'] }}</p>
            <a href="{{ url_for('inbox', username=session.username) }}">Inbox</a>
            <a href="{{ url_for('submit_message', username=session.username) }}">Submit Message</a>
            <a href="{{ url_for('settings') }}">Settings</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        {% else %}
            <a href="{{ url_for('login') }}">Login</a>
            <a href="{{ url_for('register') }}">Register</a>
        {% endif %}
    </header>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flash-messages">
          {% for message in messages %}
            <div class="flash-message">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <main>
        {% block content %}
        <!-- This block will be filled with page-specific content -->
        {% endblock %}
    </main>

    <footer>
        <!-- Common footer content -->
    </footer>
</body>
</html>